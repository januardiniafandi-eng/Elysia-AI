<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELYSIΛ AI V3.9 - ECOSYSTEM MONOPOLY</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root { --neon: #1aff1a; --orange: #ff6600; --dark: #0a0a0a; --card: #141414; --text: #e0e0e0; }
        body { background: var(--dark); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 60px; }
        .nav-bar { display: flex; background: #111; border-bottom: 2px solid var(--orange); position: sticky; top: 0; z-index: 1000; }
        .nav-item { flex: 1; padding: 15px 5px; text-align: center; font-size: 9px; font-weight: bold; cursor: pointer; color: #666; text-transform: uppercase; }
        .nav-item.active { color: var(--orange); border-bottom: 3px solid var(--orange); background: #1a1a1a; }
        .page { display: none; padding: 20px; max-width: 500px; margin: auto; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .logo { color: var(--neon); font-size: 26px; font-weight: 900; text-align: center; margin: 20px 0 5px; letter-spacing: 3px; text-shadow: 0 0 10px var(--neon); }
        .version { color: var(--orange); font-size: 9px; text-align: center; margin-bottom: 25px; font-weight: bold; }
        .group { margin-bottom: 15px; }
        label { display: block; font-size: 10px; color: var(--orange); margin-bottom: 5px; font-weight: bold; text-transform: uppercase; }
        input, select { width: 100%; background: #111; border: 1px solid #333; border-radius: 10px; padding: 12px; color: #fff; font-size: 13px; box-sizing: border-box; outline: none; }
        .btn { border: none; width: 100%; padding: 16px; border-radius: 12px; font-weight: 800; cursor: pointer; text-transform: uppercase; margin-top: 10px; font-size: 12px; }
        .btn-neon { background: var(--neon); color: #000; box-shadow: 0 0 15px rgba(26, 255, 26, 0.3); }
        .btn-audit { background: #222; color: var(--orange); border: 1px solid var(--orange); font-size: 10px; padding: 10px; }
        .btn-pdf { background: #f40612; color: #fff; font-size: 10px; padding: 10px; border-radius: 8px; }
        .card { background: var(--card); border-radius: 15px; padding: 20px; border: 1px solid #222; margin-top: 15px; border-top: 4px solid var(--neon); }
        .audit-item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 11px; border-bottom: 1px solid #222; padding-bottom: 5px; }
        .payment-info { background: rgba(26, 255, 26, 0.05); border: 1px dashed var(--neon); padding: 15px; border-radius: 10px; margin-top: 10px; font-size: 12px; }
        .kw-badge { display: inline-block; background: rgba(255, 102, 0, 0.1); color: var(--orange); padding: 4px 8px; border-radius: 5px; font-size: 9px; margin: 2px; border: 1px solid rgba(255,102,0,0.2); }
    </style>
</head>
<body>
    <div class="nav-bar">
        <div class="nav-item active" onclick="switchPage(1)">CRM Client</div>
        <div class="nav-item" onclick="switchPage(2)">AI Strategy</div>
        <div class="nav-item" onclick="switchPage(3)">Monitoring</div>
        <div class="nav-item" onclick="switchPage(4)">Master</div>
    </div>

    <div id="page1" class="page active">
        <div class="logo">ELYSIΛ AI</div>
        <div class="version">V3.9 ECOSYSTEM MONOPOLY</div>
        <div class="group">
            <label>Platform Target Ekosistem</label>
            <select id="p-platform">
                <option value="TikTok">TikTok (Short Form Logic)</option>
                <option value="Instagram">Instagram (Reels/Feed)</option>
                <option value="YouTube">YouTube (SEO Shorts/VOD)</option>
                <option value="Facebook">Facebook (Ads/Marketplace)</option>
                <option value="Google Business">Google Business Profile (Local SEO)</option>
                <option value="Website">Website (Web SEO Authority)</option>
                <option value="Tokopedia">Tokopedia (Product Search)</option>
                <option value="Shopee">Shopee (Flash Sale Logic)</option>
            </select>
        </div>
        <div class="group"><label>Nama Brand / Client</label><input type="text" id="c-name" placeholder="Contoh: Kedai Kopi XYZ"></div>
        <div class="group"><label>WhatsApp Client</label><input type="number" id="c-wa" placeholder="628..."></div>
    </div>

    <div id="page2" class="page">
        <div class="group"><label>URL Asset (Video/Produk/Web)</label><input type="url" id="p-url" placeholder="https://..."></div>
        <button class="btn btn-audit" onclick="runOmniAudit()"><i class="fas fa-microchip"></i> ANALYZE ECOSYSTEM HEALTH</button>
        
        <div id="audit-box" class="card" style="display:none;">
            <h5 style="color:var(--orange); margin:0 0 10px 0; font-size:12px;">DEEP SEO & ALGORITHM AUDIT</h5>
            <div id="audit-items"></div>
            <div id="kw-suggestions" style="margin-top:10px;">
                <label style="color:var(--neon); font-size:9px;">RECOMMENDED KEYWORDS:</label>
                <div id="kw-list"></div>
            </div>
            <div id="ai-advice" style="background:#000; padding:10px; border-radius:8px; margin-top:10px; border-left:3px solid var(--neon); font-size:10px; color:var(--neon); line-height:1.4;"></div>
            <button class="btn btn-pdf" style="margin-top:10px; width:100%;" onclick="downloadAuditPDF()">
                <i class="fas fa-file-pdf"></i> SAVE AUDIT REPORT (PDF)
            </button>
        </div>

        <div class="group" style="margin-top:20px;">
            <label>Pilih Paket Solusi Agency</label>
            <select id="p-package">
                <option value="Bronze" data-price="1000000">Starter Growth (Rp 1.000.000)</option>
                <option value="Gold" data-price="5000000">Business Scale (Rp 5.000.000)</option>
                <option value="Sultan" data-price="50000000">Enterprise Monopoly (Rp 50.000.000)</option>
            </select>
        </div>
        
        <button class="btn btn-neon" onclick="showInvoice()"><i class="fas fa-file-invoice-dollar"></i> GENERATE OFFICIAL INVOICE</button>

        <div id="invoice-box" class="card" style="display:none;">
            <h4 style="color:var(--orange); text-align:center;">OFFICIAL INVOICE</h4>
            <div id="inv-preview" style="font-size:12px; line-height:1.8; margin-bottom:15px;"></div>
            <div class="payment-info">
                <small style="color:var(--neon)">INSTRUKSI PEMBAYARAN:</small><br>
                <strong>BANK BCA</strong><br>
                No. Rek: <span style="letter-spacing:1px;">1500815314</span><br>
                A/N: <strong>Nuraida Choirunnisa</strong>
            </div>
            <button class="btn btn-neon" style="font-size:11px;" onclick="downloadInvoicePDF()">
                <i class="fas fa-download"></i> DOWNLOAD PDF INVOICE
            </button>
        </div>
    </div>

    <div id="page3" class="page">
        <h4 style="text-align:center; color:var(--orange)">CAMPAIGN LIVE MONITOR</h4>
        <div id="client-list"></div>
    </div>

    <div id="page4" class="page">
        <h3 style="color:var(--neon)">MASTER CONTROL PANEL</h3>
        <div class="card">
            <label>TOTAL AGENCY REVENUE</label>
            <div id="total-revenue" style="font-size:22px; font-weight:900; color:#fff;">Rp 0</div>
        </div>
    </div>

    <script>
        let clients = JSON.parse(localStorage.getItem('elysia_db_v39')) || [];
        const { jsPDF } = window.jspdf;

        function switchPage(n) {
            document.querySelectorAll('.page').forEach((p, i) => p.classList.toggle('active', i+1 === n));
            document.querySelectorAll('.nav-item').forEach((item, i) => item.classList.toggle('active', i+1 === n));
            if(n===4) updateMaster();
        }

        function runOmniAudit() {
            const platform = document.getElementById('p-platform').value;
            const box = document.getElementById('audit-box');
            box.style.display = "block";
            
            const s1 = Math.floor(Math.random()*40)+20;
            const s2 = Math.floor(Math.random()*30)+10;
            const s3 = Math.floor(Math.random()*50)+30;

            document.getElementById('audit-items').innerHTML = `
                <div class="audit-item"><span>Search Visibility (${platform})</span><span style="color:red">${s1}%</span></div>
                <div class="audit-item"><span>Algorithm Penetration</span><span style="color:red">${s2}%</span></div>
                <div class="audit-item"><span>Conversion Confidence</span><span style="color:var(--neon)">${s3}%</span></div>
            `;

            document.getElementById('kw-list').innerHTML = `
                <span class="kw-badge">#${platform}Strategy</span>
                <span class="kw-badge">#MarketLeader</span>
                <span class="kw-badge">#GrowthHack2026</span>
            `;

            document.getElementById('ai-advice').innerHTML = `<b>AI EXPERT ADVICE:</b> Asset ${platform} Anda terdeteksi "Stagnan". Skor Visibility hanya ${s1}%. Diperlukan injeksi Nodes ELYSIΛ untuk memicu algoritma agar asset ini naik ke peringkat utama pencarian.`;
        }

        function showInvoice() {
            const brand = document.getElementById('c-name').value || "Client";
            const pkg = document.getElementById('p-package').options[document.getElementById('p-package').selectedIndex];
            document.getElementById('invoice-box').style.display = "block";
            document.getElementById('inv-preview').innerHTML = `
                ID: INV-${Date.now().toString().slice(-6)}<br>
                Brand: <strong>${brand}</strong><br>
                Service: ${document.getElementById('p-platform').value} Optimization<br>
                Package: ${pkg.value}<br>
                Total: <strong>Rp ${parseInt(pkg.getAttribute('data-price')).toLocaleString()}</strong>
            `;
        }

        function downloadInvoicePDF() {
            const doc = new jsPDF();
            const brand = document.getElementById('c-name').value || "Client";
            const price = document.getElementById('p-package').options[document.getElementById('p-package').selectedIndex].getAttribute('data-price');
            
            doc.setFillColor(15, 15, 15); doc.rect(0, 0, 210, 297, 'F');
            doc.setTextColor(26, 255, 26); doc.setFontSize(22); doc.text("ELYSIΛ AI AGENCY INVOICE", 20, 30);
            doc.setTextColor(255, 255, 255); doc.setFontSize(11);
            doc.text("Bill To: " + brand, 20, 50);
            doc.text("Amount: Rp " + parseInt(price).toLocaleString(), 20, 60);
            doc.setDrawColor(255, 102, 0); doc.line(20, 70, 190, 70);
            doc.text("TRANSFER KE REKENING:", 20, 85);
            doc.text("BANK: BCA", 20, 95);
            doc.text("NO REK: 1500815314", 20, 105);
            doc.text("A/N: NURAIDA CHOIRUNNISA", 20, 115);
            doc.save(`Invoice_${brand}.pdf`);
        }

        function updateMaster() {
            let total = 0;
            const prices = {"Bronze":1000000, "Gold":5000000, "Sultan":50000000};
            clients.forEach(c => total += prices[c.package] || 0);
            document.getElementById('total-revenue').innerText = "Rp " + total.toLocaleString();
        }
    </script>
</body>
</html>
